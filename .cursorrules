{
  "rules": [
    {
      "description": "Financial logic for portfolio tracking: handle multi-currency, asset allocation, and risk insights.",
      "pattern": "app/**/*.{js,jsx}",
      "enforce": [
        "Always use Decimal.js or similar for currency math to avoid floating-point errors",
        "Calculate 'Allocation %' dynamically: (Asset Value / Total Portfolio Value) * 100",
        "Group assets by 'Asset Class' (Bonds, Cars, Cash, Crypto, ETFs/Funds, Precious Metals, Real Estate, Stocks, Other custom assets) and 'Currency' (USD, EUR, etc.)",
        "Identify 'Concentration Risk' based on profile risk tolerance and asset allocation",
        "Provide diversification insights by comparing current allocation against a standard 60/40 or All-Weather model",
        "Ensure all monetary displays include the correct currency symbol and ISO code"
      ]
    },
    {
      "description": "Ensure all components follow the design system using Tailwind CSS and DaisyUI.",
      "pattern": "app/**/*.jsx",
      "enforce": [
        "Use DaisyUI components where possible",
        "Ensure Tailwind utility classes are used for styling instead of inline styles"
      ]
    },
    {
      "description": "Authentication should be implemented with Auth.js and should support multiple providers.",
      "pattern": "app/**/*.js",
      "enforce": [
        "Use Auth.js for authentication",
        "Ensure OAuth providers like Google and GitHub are configured"
      ]
    },
    {
      "description": "Ensure data is securely stored and retrieved from MongoDB with proper indexes for performance.",
      "pattern": "app/**/*.js",
      "enforce": [
        "Use indexes on frequently queried fields",
        "Ensure secure storage of sensitive user data"
      ]
    },
    {
      "description": "Stripe should be used for handling payments and subscriptions.",
      "pattern": "app/**/*.js",
      "enforce": [
        "Use Stripe SDK for payment processing",
        "Ensure subscription management logic is in place"
      ]
    },
    {
      "description": "Follow best practices for Next.js API routes and server-side rendering where necessary.",
      "pattern": "app/api/**/*.js",
      "enforce": [
        "Use middleware for authentication where necessary",
        "Optimize API responses for performance"
      ]
    },
    {
      "description": "Ensure a clean and user-friendly UI with a focus on asset insights.",
      "pattern": "app/**/*.jsx",
      "enforce": [
        "Keep UI elements minimal and well-structured",
        "Ensure accessibility and responsiveness"
      ]
    }
  ]
}